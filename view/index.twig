{% extends 'layout/main_layout.twig' %}
{% block content %}

    <div id="welcome" class="d-flex justify-content-center">
        {% if user %}
            <div class="jumbotron mx-auto text-center contentDefault">
                <h1 class="display-4 justify-content-center">Welcome back
                    <span class="text-primary"> {{ user.username }}</span>!
                </h1>
                <p class="lead">This site contains thousands of guides for popular game League of Legends
                    completely for free! To browse just click the button below. We have something for every
                    League player out there.</p>
                <hr class="my-4">


                <p>Continue right where you left off or browse other guides...</p>

                <p class="lead">
                    <a class="btn btn-primary btn-lg" href="#" role="button">Browse</a>
                    {% if user.role == 'author' %}
                    <a class="btn btn-primary btn-lg" href="#" role="button">My Guides</a>
                    <a class="btn btn-primary btn-lg" href="/createguide" role="button">Create a Guide</a>
                    {% elseif user.role == 'reviewer' %}
                    <a class="btn btn-primary btn-lg" href="#" role="button">My Reviews</a>
                    {% elseif user.role == 'publisher' %}
                    <a class="btn btn-primary btn-lg" href="/manageusers" role="button">Manage Users</a>
                    <a class="btn btn-primary btn-lg" href="/managecontent" role="button">Manage Content</a>
                    {% endif %}
                </p>
            </div>

        {% else %}
            <div class="jumbotron mx-auto contentDefault">
                <h1 class="display-4 d-flex justify-content-center">Welcome to League Guides!</h1>
                <p class="lead">
                    This site contains thousands of guides for popular game League of Legends
                    completely for free! To browse just click the button below. We have something for every
                    League player out there.
                </p>

                <hr class="my-1">
                <p>You can also register to create your guides or review others</p>
                <div class="jumbotron text-center">
                    <a class="btn btn-danger btn-lg my-2" href="/guidelist" role="button">Browse</a>
                    <a class="btn btn-primary btn-lg my-2" href="/login" role="button">Login</a>
                </div>
            </div>
        {% endif %}
    </div>

    <div class="jumbotron mx-auto text-center mt-lg-5 contentDefault ">
        <h1 class="display-5">Currently popular guides</h1>
        <p>Check out our currently most popular guides here!</p>

        <div class="album">
            <div class="container">
                {% for item in items %}
                    <div class="row mt-lg-3">
                        <div class="col-md-4 contentDefault mx-auto">
                            <div class="card mb-4 box-shadow">
                                <div class="card-body">
                                    <p class="card-text smallParagraph">
                                        {{ item.abstract }}
                                    </p>
                                    <div class="d-flex justify-content-between float-end">
                                        <div class="btn-group ">
                                            <button type="button" class="btn btn-sm btn-danger">View</button>
                                            {% if user.username == item.author %}
                                                <button type="button" class="btn btn-sm btn-danger">Edit</button>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>

{% endblock %}
